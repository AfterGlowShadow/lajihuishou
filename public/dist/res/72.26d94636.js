(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{336:function(t,e,a){},478:function(t,e,a){"use strict";var i=a(336);a.n(i).a},564:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GeneralROrderListing"},[null!=this.$store.state.options.user.oda.notice?a("div",{staticClass:"page-top"},[a("dl",{staticClass:"notice"},[t._m(0),t._v(" "),a("dd",{on:{click:function(e){return t.$router.push("/public/message-detail?id="+t.$store.state.options.user.oda.notice.id)}}},[t._v(t._s(t.$store.state.options.user.oda.notice.title)+"\n\t\t\t")])])]):t._e(),t._v(" "),a("van-tabs",{staticClass:"order-list-items",attrs:{color:"#00CC00"},model:{value:t.tabs.index,callback:function(e){t.$set(t.tabs,"index",e)},expression:"tabs.index"}},[a("van-tab",{attrs:{title:"待收取"}},[a("van-list",{attrs:{finished:t.collectGR.finished,"finished-text":"没有更多了"},on:{load:function(e){return t.onLoad(t.collectGR.textType)}},model:{value:t.collectGR.loading,callback:function(e){t.$set(t.collectGR,"loading",e)},expression:"collectGR.loading"}},t._l(t.collectGR.dataset,(function(e,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:e.base,dataset:e.items,textType:t.collectGR.textType}})})),1)],1),t._v(" "),a("van-tab",{attrs:{title:"待确认"}},[a("van-list",{attrs:{finished:t.confirmGR.finished,"finished-text":"没有更多了"},on:{load:function(e){return t.onLoad(t.confirmGR.textType)}},model:{value:t.confirmGR.loading,callback:function(e){t.$set(t.confirmGR,"loading",e)},expression:"confirmGR.loading"}},t._l(t.confirmGR.dataset,(function(e,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:e.base,dataset:e.items,textType:t.confirmGR.textType}})})),1)],1),t._v(" "),a("van-tab",{attrs:{title:"已完成"}},[a("van-list",{attrs:{finished:t.completeGR.finished,"finished-text":"没有更多了"},on:{load:function(e){return t.onLoad(t.completeGR.textType)}},model:{value:t.completeGR.loading,callback:function(e){t.$set(t.completeGR,"loading",e)},expression:"completeGR.loading"}},t._l(t.completeGR.dataset,(function(e,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:e.base,dataset:e.items,textType:t.completeGR.textType}})})),1)],1)],1),t._v(" "),a("tab-group",{attrs:{dataset:t.navButtonGroup,identity:"4",index:"0"}})],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("dt",[e("img",{attrs:{src:a(216)}})])}];i._withStripped=!0;a(197);var o,s=a(198),r=(a(246),a(249)),l=(a(247),a(248)),c=a(219),d=a(417);function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={name:"GeneralROrderListing",components:(o={},u(o,l.a.name,l.a),u(o,r.a.name,r.a),u(o,s.a.name,s.a),u(o,"NormalOrderList",d.a),u(o,"TabGroup",c.a),o),data:function(){return{navButtonGroup:[{name:"暂存点订单",route:{path:"/GeneralRepository/index"}},{name:"待取",route:{path:"/GeneralRepository/waiting-point-map"}},{name:"查询报价",route:{path:"/GeneralRepository/enquiry-quotation"}},{name:"个人中心",route:{path:"/GeneralRepository/personal-center"}}],tabs:{index:0},collectGR:{loading:!1,finished:!1,textType:"collectGR",page:0,list_rows:10,dataset:[]},confirmGR:{page:0,list_rows:10,loading:!1,finished:!1,textType:"confirmGR",dataset:[]},completeGR:{page:0,list_rows:10,loading:!1,finished:!1,textType:"completeGR",dataset:[]}}},mounted:function(){this.tabs.index=this.$route.query.index},methods:{getOrderList:function(t){var e=this,a="";switch(t.textType){case"collectGR":a=1;break;case"confirmGR":a=3;break;case"completeGR":a=6}var i={page:t.page,list_rows:t.list_rows,status:a,utype:3,token:e.$store.state.options.user.token},n=[];this.$util.postRequestInterface("/api/home/order/getlist",i,(function(a){if(t.page=t.page+1,""==a.data)t.loading=!1,t.finished=!0;else{var i=!0,o=!1,s=void 0;try{for(var r,l=a.data.data[Symbol.iterator]();!(i=(r=l.next()).done);i=!0){var c=r.value,d=!0,u=!1,p=void 0;try{for(var m,f=c.detail[Symbol.iterator]();!(d=(m=f.next()).done);d=!0){var h=m.value;n.push({title:h.garbagename,number:h.weighting_num,unit:h.danweiming,time:e.$moment(1e3*c.create_time).format("YYYY-MM-DD HH:mm:ss")})}}catch(t){u=!0,p=t}finally{try{!d&&f.return&&f.return()}finally{if(u)throw p}}t.dataset.push({base:{id:c.id,number:c.ordernumber,amount:c.price,protect:c.isbaozhi,price:c.price,name:c.username},items:n}),n=[]}}catch(t){o=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}t.loading=!1,t.dataset.length>=a.data.count&&(t.finished=!0)}}))},onLoad:function(t){switch(t){case"collectGR":this.getOrderList(this.collectGR);break;case"confirmGR":this.getOrderList(this.confirmGR);break;case"completeGR":this.getOrderList(this.completeGR)}}}},m=(a(478),a(16)),f=Object(m.a)(p,i,n,!1,null,"77e1e1ea",null);f.options.__file="src/views/GeneralRepository/index.vue";e.default=f.exports}}]);