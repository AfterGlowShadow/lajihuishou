(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{245:function(t,e,s){"use strict";s(167),s(168)},272:function(t,e,s){"use strict";s(167)},288:function(t,e,s){"use strict";s(167),s(168),s(345)},289:function(t,e,s){"use strict";var a=s(7),i=s.n(a),o=s(9),r=s(1),n=s(8),l=s(195),c=s(17),u=Object(o.a)("nav-bar"),d=u[0],h=u[1];function A(t,e,s,a){var o;return t("div",i()([{class:[h({fixed:e.fixed}),(o={},o[l.b]=e.border,o)],style:{zIndex:e.zIndex}},Object(n.b)(a)]),[t("div",{class:h("left"),on:{click:a.listeners["click-left"]||r.e}},[s.left?s.left():[e.leftArrow&&t(c.a,{class:h("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:h("text")},[e.leftText])]]),t("div",{class:[h("title"),"van-ellipsis"]},[s.title?s.title():e.title]),t("div",{class:h("right"),on:{click:a.listeners["click-right"]||r.e}},[s.right?s.right():e.rightText&&t("span",{class:h("text")},[e.rightText])])])}A.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},e.a=d(A)},317:function(t,e){t.exports="data:image/png;base64,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"},318:function(t,e,s){t.exports=s.p+"images/2deeaa1d.png"},345:function(t,e,s){},365:function(t,e,s){},367:function(t,e,s){},500:function(t,e,s){},501:function(t,e,s){"use strict";var a=s(365);s.n(a).a},503:function(t,e,s){"use strict";var a=s(367);s.n(a).a},536:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-full"},[0==t.$store.state.shop.carts.length?a("div",[a("van-nav-bar",{staticClass:"page-head",attrs:{"left-arrow":""},on:{"click-left":t.eventClickGoBack}},[a("van-icon",{staticClass:"button-icon",attrs:{slot:"right",name:"add-o"},on:{click:function(e){t.clickAddButton="all"}},slot:"right"}),t._v(" "),a("span",{staticClass:"button-text",attrs:{slot:"right"},on:{click:function(e){t.clickAddButton="all"}},slot:"right"},[t._v("添加")])],1),t._v(" "),a("img",{staticClass:"page-tip-plus",attrs:{src:s(318)}}),t._v(" "),a("div",{staticClass:"page-center-tip"},[a("img",{attrs:{src:s(317)}}),t._v(" "),a("p",[t._v("还没有添加任何数据哦")]),t._v(" "),a("van-button",{staticClass:"add-quoted-price",attrs:{icon:"plus",type:"primary",text:"添加报价"},on:{click:function(e){t.clickAddButton="all"}}})],1)],1):a("div",{staticClass:"add-item-list"},["scan"==t.$store.state.shop.selectMode?a("van-nav-bar",{staticClass:"page-head",attrs:{"left-text":"订单号："+t.$store.state.shop.order}},[a("van-icon",{staticClass:"button-icon",attrs:{slot:"right",name:"qr"},on:{click:t.eventClickResetScan},slot:"right"}),t._v(" "),a("span",{staticClass:"button-text",attrs:{slot:"right"},on:{click:t.eventClickResetScan},slot:"right"},[t._v("重新刷码")])],1):a("van-nav-bar",{staticClass:"page-head",attrs:{"left-arrow":""},on:{"click-left":t.eventClickGoBack}},[a("van-icon",{staticClass:"button-icon",attrs:{slot:"right",name:"add-o"},on:{click:t.eventClickGoBack},slot:"right"}),t._v(" "),a("span",{staticClass:"button-text",attrs:{slot:"right"},on:{click:function(e){t.clickAddButton="all"}},slot:"right"},[t._v("添加")])],1),t._v(" "),"scan"==t.$store.state.shop.selectMode?[a("van-notice-bar",{attrs:{scrollable:!1,background:"#F4F4F4",color:"#999999"}},[t._v("从我的库存中选择添加")]),t._v(" "),a("van-list",{attrs:{finished:t.stock.finished,"finished-text":"没有更多了"},on:{load:t.controllerRequestStockData},model:{value:t.stock.loading,callback:function(e){t.$set(t.stock,"loading",e)},expression:"stock.loading"}},t._l(t.$store.state.shop.carts,(function(t,e){return a("order-list-by-delete",{key:e,staticClass:"list-item bottom-ash-line",attrs:{index:e,title:t.title,unit:t.unit,number:t.number}})})),1),t._v(" "),a("van-button",{staticClass:"add-quoted-price full-width",attrs:{icon:"plus",type:"primary",text:"添加库存"},on:{click:function(e){t.clickAddButton="stock"}}})]:[t._l(t.$store.state.shop.carts,(function(t,e){return a("order-list-by-delete",{key:e,staticClass:"list-item",attrs:{index:e,title:t.title,unit:t.unit,number:t.number}})})),t._v(" "),a("van-button",{staticClass:"add-quoted-price full-width",attrs:{icon:"plus",type:"primary",text:"添加报价"},on:{click:function(e){t.clickAddButton="all"}}})]],2),t._v(" "),a("bottom-submit-bar"),t._v(" "),a("van-overlay",{attrs:{show:t.$store.state.shop.show.menu}},[a("div",{staticClass:"add-operate-layer"},[a("van-icon",{staticClass:"close-button",attrs:{name:"close"},on:{click:function(e){t.clickAddButton="close"}}}),t._v(" "),a("ul",[a("li",[t._v("选择添加方式")]),t._v(" "),a("li",{on:{click:function(e){t.clickAddButton="scan"}}},[t._v("扫描二维码")]),t._v(" "),a("li",{on:{click:function(e){t.clickAddButton="normal"}}},[t._v("直接添加")])])],1)])],1)};a._withStripped=!0;s(167),s(168),s(500);var i=s(9),o=s(17),r=Object(i.a)("notice-bar"),n=r[0],l=r[1],c=n({props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,delay:{type:[Number,String],default:1},scrollable:{type:Boolean,default:!0},speed:{type:Number,default:50}},data:function(){return{wrapWidth:0,firstRound:!0,duration:0,offsetWidth:0,showNoticeBar:!0,animationClass:""}},watch:{text:{handler:function(){var t=this;this.$nextTick((function(){var e=t.$refs,s=e.wrap,a=e.content;if(s&&a){var i=s.getBoundingClientRect().width,o=a.getBoundingClientRect().width;t.scrollable&&o>i&&(t.wrapWidth=i,t.offsetWidth=o,t.duration=o/t.speed,t.animationClass=l("play"))}}))},immediate:!0}},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.showNoticeBar=!1,this.$emit("close",t))},onAnimationEnd:function(){var t=this;this.firstRound=!1,this.$nextTick((function(){t.duration=(t.offsetWidth+t.wrapWidth)/t.speed,t.animationClass=l("play--infinite")}))}},render:function(){var t=this,e=arguments[0],s=this.slots,a=this.mode,i=this.leftIcon,r=this.onClickIcon,n={color:this.color,background:this.background},c={paddingLeft:this.firstRound?0:this.wrapWidth+"px",animationDelay:(this.firstRound?this.delay:0)+"s",animationDuration:this.duration+"s"};function u(){var t=s("left-icon");return t||(i?e(o.a,{class:l("left-icon"),attrs:{name:i}}):void 0)}function d(){var t=s("right-icon");if(t)return t;var i="closeable"===a?"cross":"link"===a?"arrow":"";return i?e(o.a,{class:l("right-icon"),attrs:{name:i},on:{click:r}}):void 0}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.showNoticeBar}],class:l({wrapable:this.wrapable}),style:n,on:{click:function(e){t.$emit("click",e)}}},[u(),e("div",{ref:"wrap",class:l("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[l("content"),this.animationClass,{"van-ellipsis":!this.scrollable&&!this.wrapable}],style:c,on:{animationend:this.onAnimationEnd,webkitAnimationEnd:this.onAnimationEnd}},[this.slots()||this.text])]),d()])}}),u=(s(197),s(198)),d=(s(272),s(25)),h=(s(204),s(199)),A=(s(245),s(288),s(289)),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-bottom-bar"},[s("div",{staticClass:"flex-item check-all-select"},[s("van-checkbox",{model:{value:t.allSelectState,callback:function(e){t.allSelectState=e},expression:"allSelectState"}},[t._v("全选")])],1),t._v(" "),s("div",{staticClass:"flex-item tip-message"},[t._v("已选择 "+t._s(t.$store.state.shop.selectItems.length)+" 条数据")]),t._v(" "),s("div",{staticClass:"flex-item"},[s("span",{staticClass:"bar-button bar-button-orange",on:{click:t.eventClickPredictOrderPrice}},[t._v("预估报价")])])])};p._withStripped=!0;s(241);var f=s(242);var g,v,m,b={components:(g={},v=f.a.name,m=f.a,v in g?Object.defineProperty(g,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[v]=m,g),computed:{allSelectState:{get:function(){return this.$store.state.shop.status.allSelect},set:function(){var t=this.$store.state.shop.status.allSelect,e=[];if(!t)for(var s in this.$store.state.shop.carts)e.push(s);this.$store.commit("shop/allSelectCartsItem",e),this.$store.commit("shop/setElementValue",[{key:"status.allSelect",value:!t}])}}},methods:{buildFormaDataset:function(t){var e=[],s=!0,a=!1,i=void 0;try{for(var o,r=this.$store.state.shop.selectItems[Symbol.iterator]();!(s=(o=r.next()).done);s=!0){var n=o.value,l=this.$store.state.shop.carts[n];"predict"?e.push({id:l.id,garbageid:l.idList,danweiming:l.unit,number:l.number}):e.push({garbageid:l.idList,danweiming:l.unit,number:l.number})}}catch(t){a=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(a)throw i}}return e},eventClickPredictOrderPrice:function(){var t=this;if(0!=this.$store.state.shop.selectItems.length){var e={ids:JSON.stringify(this.buildFormaDataset("predict")),token:this.$store.state.options.user.token};this.$util.postRequestInterface("/api/home/user/getprice",e,(function(e){var s=JSON.parse(JSON.stringify(t.$store.state.shop.carts)),a=!0,i=!1,o=void 0;try{for(var r,n=e.data.garbagelist[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var l=r.value,c=!0,u=!1,d=void 0;try{for(var h,A=s[Symbol.iterator]();!(c=(h=A.next()).done);c=!0){var p=h.value;l.id==p.id&&(p.price=l.price)}}catch(t){u=!0,d=t}finally{try{!c&&A.return&&A.return()}finally{if(u)throw d}}}}catch(t){i=!0,o=t}finally{try{!a&&n.return&&n.return()}finally{if(i)throw o}}t.$store.commit("shop/setElementValue",[{key:"orderPrice",value:e.data.price}]),t.$store.commit("shop/resetShopCartsDataset",s),t.$router.push("/shop/order-predict-price")}))}else this.$toast("请选择要预估的选项")},eventClickShopAddOrder:function(){var t=this;if(0!=this.$store.state.shop.selectItems.length){var e={stock_id:1,garbagelist:JSON.stringify(this.buildFormaDataset()),is_tracing:"scan"==this.$store.state.shop.selectMode?2:1,order_sn:"scan"==this.$store.state.shop.selectMode?this.$store.state.shop.order:"",is_protect:0,token:this.$store.state.options.user.token};this.$util.postRequestInterface("/api/home/order/shopadd",e,(function(e){t.$store.commit("shop/resetShopCartsDataset",[]),t.$router.push({path:"/shop/withdraw",query:{ordernumber:e.data.ordernumber}})}))}else this.$toast("请选择要下单的选项")}}},C=(s(501),s(16)),k=Object(C.a)(b,p,[],!1,null,"64364c01",null);k.options.__file="src/components/currency/order-item/bottom-submit-bar.vue";var w,x=k.exports,W=s(416);function y(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var B={name:"ShopOrderAdds",components:(w={},y(w,A.a.name,A.a),y(w,o.a.name,o.a),y(w,h.a.name,h.a),y(w,d.a.name,d.a),y(w,u.a.name,u.a),y(w,c.name,c),y(w,"BottomSubmitBar",x),y(w,"OrderListByDelete",W.a),w),data:function(){return{clickAddButton:"",stock:{loading:!1,finished:!1,page:0,limit:30}}},mounted:function(){var t=[];t=this.$route.params.reset&&"scan"==this.$store.state.shop.selectMode?[{key:"operateMode",value:"will"},{key:"carts",value:[]},{key:"selectItems",value:[]},{key:"order",value:""},{key:"orderPrice",value:0},{key:"status.predictPrice",value:!1},{key:"status.allSelect",value:!1}]:[{key:"operateMode",value:"will"}],this.$store.commit("shop/setElementValue",t),console.log(this.$store.state.shop.carts)},methods:{eventClickGoBack:function(){this.$router.go(-1)},controllerRequestStockData:function(){var t=this,e={page:this.stock.page,list_rows:this.stock.limit,token:this.$store.state.options.user.token};this.$util.postRequestInterface("/api/home/user/StockList",e,(function(e){if(0!=e.data.count){0==t.stock.page&&t.$store.commit("shop/resetShopCartsDataset",[]),t.stock.page++;var s=[],a=!0,i=!1,o=void 0;try{for(var r,n=e.data.data[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var l=r.value;s.push({stockItemId:l.id,id:l.garbageid,idList:l.garbagepgalist,title:l.garbagename,pga:l.garbagepga,oda:l})}}catch(t){i=!0,o=t}finally{try{!a&&n.return&&n.return()}finally{if(i)throw o}}t.$store.state.shop.carts.length+s.length>=e.data.count&&(t.stock.finished=!0),t.stock.loading=!1,t.$store.commit("shop/resetShopCartsDataset",t.$store.state.shop.carts.concat(s))}else t.$router.push("/shop/stock-manage")}))},eventClickAddStockItem:function(){this.$store.commit("shop/setElementValue",[{key:"operateMode",value:"stock"}]),this.$router.push("/shop/order-item-add-normal")},eventClickResetScan:function(){this.stock.page=0,this.finished=!1,this.loading=!1,this.repeatOperate("scan")},repeatOperate:function(t){var e=this;if("scan"==t)this.$util.requestLoadWeChatSDKOperate(["scanQRCode"]).then(this.$util.requestWeChatAuthorizeDataset).then(this.$util.initializationWXScanQRCode).then((function(t){e.$store.commit("shop/setElementValue",[{key:"selectMode",value:"scan"},{key:"order",value:t.resultStr},{key:"show.menu",value:!1},{key:"carts",value:[]},{key:"selectItems",value:[]},{key:"orderPrice",value:0},{key:"status.allSelect",value:!1}]),e.controllerRequestStockData()})).catch((function(t){e.$store.commit("shop/setElementValue",[{key:"show.menu",value:!1}]),console.log(t)}));else{var s=[];s.push({key:"show.menu",value:!1}),s.push({key:"selectMode",value:t}),this.$store.commit("shop/setElementValue",s),this.$router.push({path:"/shop/order-item-add-"+t})}}},watch:{clickAddButton:function(t,e){var s=this.$store.state.shop.mode;"stock"==t?this.eventClickAddStockItem():"all"!=s&&"all"==t?this.repeatOperate(s):"all"==s&&"normal"==t?this.repeatOperate("normal"):"all"==s&&"scan"==t?this.repeatOperate("scan"):"all"==s&&"all"==t?this.$store.commit("shop/setElementValue",[{key:"show.menu",value:!0}]):"close"==t&&this.$store.commit("shop/setElementValue",[{key:"show.menu",value:!1}])}}},S=(s(503),Object(C.a)(B,a,[],!1,null,"473bd3a0",null));S.options.__file="src/views/shop/order-adds.vue";e.default=S.exports}}]);