(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{384:function(t,e,a){},520:function(t,e,a){"use strict";var s=a(384);a.n(s).a},596:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stock-contianer"},[a("div",{staticClass:"stock-tray-title"},[a("dl",[a("dt",[t._v(t._s(t.dataset.garbage.name))]),t._v(" "),a("dd",[a("p",[t._v("总重量："),a("span",[t._v(t._s(t.dataset.ibase.allnumner)+"kg")])])])])]),t._v(" "),a("van-list",{attrs:{finished:t.dataset.finished,"finished-text":""},on:{load:t.controllerRequestList},model:{value:t.dataset.loading,callback:function(e){t.$set(t.dataset,"loading",e)},expression:"dataset.loading"}},t._l(t.dataset.items,(function(e,s){return a("tray-item-list",{key:s,staticClass:"stock-order-list",attrs:{ibase:[],dataset:e,index:s,allSelect:t.allSelectState},on:{onSelectOperate:t.eventOnSelectItemOperate}})})),1),t._v(" "),a("div",{staticClass:"page-bottom-bar"},[a("div",{staticClass:"flex-item check-all-select"},[a("van-checkbox",{model:{value:t.allSelectState,callback:function(e){t.allSelectState=e},expression:"allSelectState"}},[t._v("全选")])],1),t._v(" "),a("div",{staticClass:"flex-item tip-message"},[t._v("已选择 "+t._s(t.selectItems.length)+" 条数据")]),t._v(" "),a("div",{staticClass:"flex-item"},[a("span",{staticClass:"bar-button bar-button-green",on:{click:t.eventClickPopSelectItem}},[t._v("出库")])])])],1)};s._withStripped=!0;a(241);var i,n=a(242),l=(a(197),a(198)),r=a(419);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={components:(i={},o(i,l.a.name,l.a),o(i,n.a.name,n.a),o(i,"TrayItemList",r.a),i),data:function(){return{allSelectState:!1,selectItems:[],trayId:0,dataset:{page:0,limit:30,loading:!1,finished:!1,items:[],garbage:{},ibase:{}}}},mounted:function(){},methods:{buildFormaDataset:function(){var t=!0,e=!1,a=void 0;try{for(var s,i=this.selectItems[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var n=s.value,l=this.dataset.items[n];console.log(l)}}catch(t){e=!0,a=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw a}}return[]},controllerRequestList:function(){var t=this,e={token:this.$store.state.options.user.token,id:this.$route.query.garbageid},a=[],s=[];this.$util.postRequestInterface("/api/home/tray/trayorderList",e,(function(e){if(t.dataset.garbage=e.data.garbage,t.dataset.ibase.allnumner=e.data.allnumner,t.dataset.ibase.allweight=e.data.allweight,e.data.orderlist){var i=!0,n=!1,l=void 0;try{for(var r,o=e.data.orderlist[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var c=r.value,d=c.garbageall;a.push({goid:c.goid,title:c.garbage[0].name,number:d.weighting_num,unit:"kg",time:t.$moment(1e3*c.create_time).format("YYYY-MM-DD")}),s.push({ordernumne:c.ordernumne,detail:a,id:e.data.garbage.id}),a=[]}}catch(t){n=!0,l=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw l}}t.dataset.items=s}t.dataset.finished=!0,t.dataset.loading=!1}))},eventClickPopSelectItem:function(){if(0!=this.selectItems.length)this.buildFormaDataset();else this.$toast("请选择要出库的选项")},eventOnSelectItemOperate:function(t){if(t.select)this.selectItems.push(t.index);else for(var e in this.selectItems)if(e==t.index){this.selectItems.splice(e,1);break}}},watch:{allSelectState:function(t,e){this.selectItems=[]}}},d=(a(520),a(16)),u=Object(d.a)(c,s,[],!1,null,"38905bb0",null);u.options.__file="src/views/reservoirManagement/stock-out.vue";e.default=u.exports}}]);