(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{197:function(t,e,i){"use strict";i(167),i(202)},198:function(t,e,i){"use strict";var n=i(9),r=i(201),o=i(20),s=i(19),a=i(18),c=Object(n.a)("list"),d=c[0],l=c[1],u=c[2];e.a=d({mixins:[Object(o.a)((function(t){this.scroller||(this.scroller=Object(s.c)(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},mounted:function(){this.immediateCheck&&this.check()},watch:{finished:"check",loading:function(t){this.innerLoading=t,this.check()}},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var e,i=t.$el,n=t.scroller,o=t.offset,s=t.direction;if(!((e=n.getBoundingClientRect?n.getBoundingClientRect():{top:0,bottom:n.innerHeight}).bottom-e.top)||Object(r.a)(i))return!1;var a=t.$refs.placeholder.getBoundingClientRect();("up"===s?a.top-e.top<=o:a.bottom-e.bottom<=o)&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading)return t("div",{class:l("loading"),key:"loading"},[this.slots("loading")||t(a.a,{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished&&this.finishedText)return t("div",{class:l("finished-text")},[this.finishedText])},genErrorText:function(){var t=this.$createElement;if(this.error&&this.errorText)return t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText])}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:l("placeholder")});return t("div",{class:l(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}})},201:function(t,e,i){"use strict";function n(t){return"none"===window.getComputedStyle(t).display||null===t.offsetParent}i.d(e,"a",(function(){return n}))},202:function(t,e,i){},378:function(t,e,i){},514:function(t,e,i){"use strict";var n=i(378);i.n(n).a},582:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stock-contianer"},[i("div",{staticClass:"stock-tray-title"},[i("p",[t._v(t._s(t.$route.query.name))])]),t._v(" "),i("van-list",{attrs:{finished:t.dataset.finished,"finished-text":"还没有东东"},on:{load:t.controllerRequestList},model:{value:t.dataset.loading,callback:function(e){t.$set(t.dataset,"loading",e)},expression:"dataset.loading"}},[i("ul",{staticClass:"stock-listing"},t._l(t.dataset.items,(function(e,n){return i("li",{key:n,on:{click:function(e){return t.eventClickOpenDetails(n)}}},[i("p",[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v("总重量："),i("span",[t._v(t._s(e.number)+"kg")])])])})),0)])],1)};n._withStripped=!0;i(197);var r=i(198);var o,s,a,c={name:"ReservoirManageStockTray",components:(o={},s=r.a.name,a=r.a,s in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o),data:function(){return{dataset:{page:0,limit:30,loading:!1,finished:!1,items:[],token:""}}},mounted:function(){},methods:{controllerRequestList:function(){var t=this,e={token:this.$route.query.token},i=window.sessionStorage.getItem("outOrder");i&&(e.orderid=i),this.$util.postRequestInterface("/api/admin/tray/getone",e,(function(e){e.data.orderlist&&(t.dataset.items=e.data.orderlist,t.dataset.token=e.data.token),t.dataset.finished=!0,t.dataset.loading=!1}))},eventClickOpenDetails:function(t){var e=this.dataset.items[t],i=e.id,n=e.number;this.$router.push({path:"/reservoirManagement/stock-tray-details",query:{token:this.dataset.token,child:i,name:n}})}}},d=(i(514),i(16)),l=Object(d.a)(c,n,[],!1,null,"25c26344",null);l.options.__file="src/views/reservoirManagement/stock-tray.vue";e.default=l.exports}}]);