(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{364:function(e,t,a){},499:function(e,t,a){"use strict";var i=a(364);a.n(i).a},542:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-tabs",{staticClass:"order-list-items",attrs:{color:"#00CC00"},model:{value:e.tabs.index,callback:function(t){e.$set(e.tabs,"index",t)},expression:"tabs.index"}},[a("van-tab",{attrs:{title:"待收取"}},[a("van-list",{attrs:{finished:e.collect.finished,"finished-text":"没有更多了"},on:{load:function(t){return e.onLoad(e.collect.textType)}},model:{value:e.collect.loading,callback:function(t){e.$set(e.collect,"loading",t)},expression:"collect.loading"}},e._l(e.collect.dataset,(function(t,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:t.base,dataset:t.items,textType:e.collect.textType}})})),1)],1),e._v(" "),a("van-tab",{attrs:{title:"待确认"}},[a("van-list",{attrs:{finished:e.confirm.finished,"finished-text":"没有更多了"},on:{load:function(t){return e.onLoad(e.confirm.textType)}},model:{value:e.confirm.loading,callback:function(t){e.$set(e.confirm,"loading",t)},expression:"confirm.loading"}},e._l(e.confirm.dataset,(function(t,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:t.base,dataset:t.items,textType:e.confirm.textType}})})),1)],1),e._v(" "),a("van-tab",{attrs:{title:"已完成"}},[a("van-list",{attrs:{finished:e.complete.finished,"finished-text":"没有更多了"},on:{load:function(t){return e.onLoad(e.complete.textType)}},model:{value:e.complete.loading,callback:function(t){e.$set(e.complete,"loading",t)},expression:"complete.loading"}},e._l(e.complete.dataset,(function(t,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:t.base,dataset:t.items,textType:e.complete.textType}})})),1)],1),e._v(" "),a("van-tab",{attrs:{title:"已取消"}},[a("van-list",{attrs:{finished:e.cancel.finished,"finished-text":"没有更多了"},on:{load:function(t){return e.onLoad(e.cancel.textType)}},model:{value:e.cancel.loading,callback:function(t){e.$set(e.cancel,"loading",t)},expression:"cancel.loading"}},e._l(e.cancel.dataset,(function(t,i){return a("normal-order-list",{key:i,staticClass:"el-item",attrs:{ibase:t.base,dataset:t.items,textType:e.cancel.textType}})})),1)],1)],1)};i._withStripped=!0;a(197);var n,s=a(198),o=(a(246),a(249)),r=(a(247),a(248)),l=a(418);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={name:"ShopOrderListing",components:(n={},c(n,r.a.name,r.a),c(n,o.a.name,o.a),c(n,s.a.name,s.a),c(n,"NormalOrderList",l.a),n),data:function(){return{tabs:{index:0},collect:{loading:!1,finished:!1,textType:"collect",page:0,list_rows:10,dataset:[]},confirm:{page:0,list_rows:10,loading:!1,finished:!1,textType:"confirm",dataset:[]},complete:{page:0,list_rows:10,loading:!1,finished:!1,textType:"complete",dataset:[]},cancel:{page:0,list_rows:10,loading:!1,finished:!1,textType:"cancel",dataset:[]}}},mounted:function(){this.tabs.index=this.$route.query.index},methods:{getOrderList:function(e){var t=this,a="";switch(e.textType){case"collect":a=1;break;case"confirm":a=4;break;case"complete":a=5;break;case"cancel":a=6}var i={page:e.page,list_rows:e.list_rows,status:a,groupid:1,token:t.$store.state.options.user.token},n=[];this.$util.postRequestInterface("/api/home/order/getlist",i,(function(a){if(e.page=e.page+1,""==a.data)e.loading=!1,e.finished=!0;else{var i=!0,s=!1,o=void 0;try{for(var r,l=a.data.data[Symbol.iterator]();!(i=(r=l.next()).done);i=!0){var c=r.value,d=!0,u=!1,m=void 0;try{for(var f,p=c.detail[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var h=f.value;n.push({title:h.garbagename,number:h.weighting_num,unit:h.danweiming,time:t.$moment(1e3*c.create_time).format("YYYY-MM-DD HH:mm:ss")})}}catch(e){u=!0,m=e}finally{try{!d&&p.return&&p.return()}finally{if(u)throw m}}e.dataset.push({base:{number:c.ordernumber,amount:c.price,protect:c.isbaozhi,price:c.price},items:n}),n=[]}}catch(e){s=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(s)throw o}}e.loading=!1,e.dataset.length>=a.data.count&&(e.finished=!0)}}))},onLoad:function(e){switch(e){case"collect":this.getOrderList(this.collect);break;case"confirm":this.getOrderList(this.confirm);break;case"complete":this.getOrderList(this.complete);break;case"cancel":this.getOrderList(this.cancel)}}}},u=(a(499),a(16)),m=Object(u.a)(d,i,[],!1,null,"1e6a0574",null);m.options.__file="src/views/shop/order-listing.vue";t.default=m.exports}}]);