(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{195:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"i",(function(){return n})),i.d(e,"h",(function(){return r})),i.d(e,"e",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return h}));var a="#1989fa",n="#fff",r="#969799",s="van-hairline",o=s+"--top",l=s+"--left",c=s+"--bottom",u=s+"--surround",d=s+"--top-bottom",h=s+"-unset--top-bottom"},196:function(t,e,i){"use strict";function a(t,e){var i=e.to,a=e.url,n=e.replace;if(i&&t){var r=t[n?"replace":"push"](i);r&&r.catch&&r.catch((function(t){if(t&&"NavigationDuplicated"!==t.name)throw t}))}else a&&(n?location.replace(a):location.href=a)}function n(t){a(t.parent&&t.parent.$router,t.props)}i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return r}));var r={url:String,replace:Boolean,to:[String,Object]}},200:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var a={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}},203:function(t,e,i){"use strict";var a=i(3),n=i(7),r=i.n(n),s=i(9),o=i(1),l=i(200),c=i(8),u=i(196),d=i(17),h=Object(s.a)("cell"),q=h[0],v=h[1];function m(t,e,i,a){var n=e.icon,s=e.size,l=e.title,h=e.label,q=e.value,m=e.isLink,f=e.arrowDirection,b=i.title||Object(o.b)(l),p=i.default||Object(o.b)(q),g=(i.label||Object(o.b)(h))&&t("div",{class:[v("label"),e.labelClass]},[i.label?i.label():h]),y=b&&t("div",{class:[v("title"),e.titleClass],style:e.titleStyle},[i.title?i.title():t("span",[l]),g]),_=p&&t("div",{class:[v("value",{alone:!i.title&&!l}),e.valueClass]},[i.default?i.default():t("span",[q])]),C=i.icon?i.icon():n&&t(d.a,{class:v("left-icon"),attrs:{name:n}}),k=i["right-icon"],w=k?k():m&&t(d.a,{class:v("right-icon"),attrs:{name:f?"arrow-"+f:"arrow"}});var S=m||e.clickable,j={clickable:S,center:e.center,required:e.required,borderless:!e.border};return s&&(j[s]=s),t("div",r()([{class:v(j),attrs:{role:S?"button":null,tabindex:S?0:null},on:{click:function(t){Object(c.a)(a,"click",t),Object(u.a)(a)}}},Object(c.b)(a)]),[C,y,_,w,i.extra&&i.extra()])}m.props=Object(a.a)({},l.a,{},u.c),e.a=q(m)},213:function(t,e,i){"use strict";i(167),i(168),i(217)},214:function(t,e,i){"use strict";var a=i(7),n=i.n(a),r=i(3),s=i(17),o=i(203),l=i(200),c=i(4),u=i(1);var d=i(19),h=!u.d&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());var q=i(9),v=i(14),m=Object(q.a)("field"),f=m[0],b=m[1];e.a=f({inheritAttrs:!1,props:Object(r.a)({},l.a,{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(u.b)(this.value)&&!this.readonly},listeners:function(){var t=Object(r.a)({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(v.a)(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(u.b)(i)&&e.length>i&&(e=e.slice(0,i),t.value=e),e}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),h&&Object(d.e)(Object(d.b)())},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(c.c)(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf(".");e>=48&&e<=57||46===e&&i||45===e||Object(c.c)(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(u.c)(this.autosize)){var i=this.autosize,a=i.maxHeight,n=i.minHeight;a&&(e=Math.min(e,a)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},genInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:b("control",this.inputAlign)},[e]);var i={ref:"input",class:b("control",this.inputAlign),domProps:{value:this.value},attrs:Object(r.a)({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",n()([{},i])):t("input",n()([{attrs:{type:this.type}},i]))},genLeftIcon:function(){var t=this.$createElement;if(this.slots("left-icon")||this.leftIcon)return t("div",{class:b("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(s.a,{attrs:{name:this.leftIcon}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots;if(e("right-icon")||this.rightIcon)return t("div",{class:b("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(s.a,{attrs:{name:this.rightIcon}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:b("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],i=this.slots,a=this.labelAlign,n={icon:this.genLeftIcon};return i("label")&&(n.title=function(){return i("label")}),e(o.a,{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[b("label",a),this.labelClass],arrowDirection:this.arrowDirection},class:b((t={error:this.error},t["label-"+a]=a,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:n,on:{click:this.onClick}},[e("div",{class:b("body")},[this.genInput(),this.showClear&&e(s.a,{attrs:{name:"clear"},class:b("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),i("button")&&e("div",{class:b("button")},[i("button")])]),this.genWordLimit(),this.errorMessage&&e("div",{class:b("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},217:function(t,e,i){},229:function(t,e,i){t.exports=i.p+"images/45d02530.png"},236:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAABZVBMVEVHcEyqqqqqqqqrq6uurq6pqamrq6uqqqqqqqqqqqqqqqqtra2qqqqtra2qqqqqqqqqqqqqqqqqqqqrq6urq6uqqqqqqqqrq6uqqqqqqqqqqqqpqampqam2traqqqqqqqqpqamrq6upqamqqqqqqqqurq6qqqqqqqqqqqqqqqqqqqqqqqqrq6uqqqqqqqqpqamqqqqpqampqamqqqqrq6uqqqqpqamqqqqqqqqqqqqrq6uqqqqrq6uqqqqqqqqkpKSqqqqxsbGqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqvr6+qqqr///+qqqqsrKz7+/vV1dX19fWwsLDDw8P4+Pj09PTb29vu7u76+vrExMTQ0NCzs7Otra23t7fr6+vj4+P29vb39/fd3d2rq6vW1tbU1NTi4uKurq79/f35+fnz8/O2trbf39+9vb27u7vs7Ozg4OC+vr68vLyysrKSuY3MAAAAT3RSTlMABsl8Fj5V/MMPrhnvHLSz8/vjcEmoSEDC8D9WlQfSHkFDpJaTE8G9EhX6/XPF7qfedH3GqcpEpcQbpvGUv74Ozw3MvNDNzvL55O17yBDgSm+N0gAAAkhJREFUSMetl2dXGkEYhYeigEgRGyLF3mvU9MT0nszdQmepKtijxvz+LB5SgAVmZ/J8fw6c2XfeuZcQQ1xjts0vAT/gD1g3bWMuwoxnbd2BJhzrazEmtc+nm0dX2mVJzVKaVUuX2tWR7vtCPdXxICDljnXtX7LHOQkIjndV3TNAvJakBiRrcWDG3dntn0BBkWkHZKWAif4OqmUOSKRoF1IJYC5i5L58DSlNe5CWsLDU7i6/Qj5De5LJ481y21S8RVGlDKhFvGuZGcsiigeUiYMiFi1Nchj5CmWkkke46RtBylBmMhIm/7qPBpGmJkhj0PNHHkCCmiKBgd/uFE4q5uTKCaYbshNVapIqnI07iLhsVpbj6LuTfVCoaWrw1V37kJQ0LyelIbsuDyNHOchh+O64yjxyuX5kLock88iy5HCREXynXPzACPkMjU/WcI+M4pBPPsQosaLEJ5dgJQGofLKKj8SPLJ8s4z0BKCcAv3yKD/x/+wyf+A8shW9in0poSGwi4yl0MQSu5FexZSC2hoQWIPHyrF4FXvGlrx+ZYv6HG88NmUYhZXKuC7j/P55Y4hF53MmkQKwgZBY/z1nd8zxmm6PUM1ywRqkLLDRHKTIfZQ9x0fnWCGh/wRofo/b28Ln/nC24BpeMYm/kKUtkDkf4wnq1gCf9XWrCA70mKMY1QdFrwmN394LiNCwo5XpBeTjVs9+EvKt6NbrVbq5VmZ6epa5vtFu9Gq16Q0zNKra901rKdrZj7KVOr4O7e1sbKysbW3u7HevgLyiJZgV6xpwZAAAAAElFTkSuQmCC"},258:function(t,e,i){"use strict";i(167),i(259)},259:function(t,e,i){},260:function(t,e,i){},267:function(t,e,i){"use strict";var a=i(7),n=i.n(a),r=i(9),s=i(14),o=i(195),l={size:String,value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},c=i(8),u=i(18),d=Object(r.a)("switch"),h=d[0],q=d[1];function v(t,e,i,a){var r=e.size,l=e.value,d=e.loading,h=e.disabled,v=e.activeColor,m=e.activeValue,f=e.inactiveColor,b=e.inactiveValue,p=l===m,g={fontSize:Object(s.a)(r),backgroundColor:p?v:f},y=p?v||o.a:f||o.h;return t("div",n()([{class:q({on:p,disabled:h}),attrs:{role:"switch","aria-checked":String(p)},style:g,on:{click:function(t){if(Object(c.a)(a,"click",t),!h&&!d){var e=p?b:m;Object(c.a)(a,"input",e),Object(c.a)(a,"change",e)}}}},Object(c.b)(a)]),[t("div",{class:q("node")},[d&&t(u.a,{class:q("loading"),attrs:{color:y}})])])}v.props=l;e.a=h(v)},311:function(t,e,i){"use strict";var a=i(260);i.n(a).a},313:function(t,e,i){},401:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-bottom-bar"},[i("div",{staticClass:"flex-item tip-message"},[t._v("预估报价："),i("span",[t._v("￥")]),i("span",[t._v(t._s(t.price))]),t._v(" "),1==t.isbaozhi?i("span",{staticClass:"open"},[t._v("（已开启价格保护)")]):t._e()]),t._v(" "),i("div",{staticClass:"flex-item"},["change"!=t.changeButtom?i("span",{staticClass:"bar-button bar-button-green",on:{click:t.eventClickconfirmOrder}},[t._v("确认收取")]):i("span",{staticClass:"bar-button bar-button-green",on:{click:t.eventClickChangeOrder}},[t._v("确认更改")])])])};a._withStripped=!0;i(258);var n=i(267);var r,s,o,l={name:"bottom-submit-confirm-collect",props:["price","isbaozhi","ordernumber","changeButtom","detail","dataset"],components:(r={},s=n.a.name,o=n.a,s in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o,r),data:function(){return{}},methods:{eventClickconfirmOrder:function(){var t=this,e="/api/home/order/confirm",i={ordernumber:this.ordernumber,token:this.$store.state.options.user.token};"zg"==this.$route.query.mode&&(e="/api/home/order/change",i={type:"shenheoutorder",token:this.$store.state.options.user.token,id:this.ordernumber}),this.$util.postRequestInterface(e,i,(function(e){t.$router.go(-1)}))},buildFormaDataset:function(t){var e=[],i=!0,a=!1,n=void 0;try{for(var r,s=this.detail[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;e.push({garbageid:o.garbageid,id:o.id,weighting_num:o.number,danweiming:o.danweiming})}}catch(t){a=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}return e},eventClickChangeOrder:function(){var t=this;console.log(this.buildFormaDataset());var e={ordernumber:this.ordernumber,token:this.$store.state.options.user.token,garbagelist:JSON.stringify(this.buildFormaDataset()),paytype:this.dataset.paytype?1:0,delivery_method:this.dataset.delivery_method?1:0};this.$util.postRequestInterface("/api/home/order/adjust",e,(function(e){t.$router.go(-1)}))}}},c=(i(311),i(16)),u=Object(c.a)(l,a,[],!1,null,"4187150b",null);u.options.__file="src/components/currency/order-item/bottom-submit-confirm-collect.vue";e.a=u.exports},435:function(t,e,i){"use strict";var a=i(313);i.n(a).a},591:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collect-change"},[a("ul",{staticClass:"bottom-ash-line"},[a("li",[a("div",[t._v("状态")]),t._v(" "),a("div",{staticClass:"status"},[t._v(t._s(t.status))])]),t._v(" "),a("li",[a("div",[t._v("订单编号")]),t._v(" "),a("div",[t._v(t._s(t.dataset.orderNum))])]),t._v(" "),a("li",[a("div",[t._v("提交店铺")]),t._v(" "),a("div",[t._v(t._s(t.dataset.username))])]),t._v(" "),a("li",[a("div",[t._v("提交时间")]),t._v(" "),a("div",[t._v(t._s(t.dataset.createTime))])]),t._v(" "),t._l(t.detail,(function(e,n){return a("li",{staticClass:"detail-order-type"},[a("div",{staticClass:"detail-classification"},[a("div",[t._v("所属分类")]),t._v(" "),a("div",{staticClass:"type"},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"detail-weight-number"},[a("div",[t._v(" ")]),t._v(" "),a("div",{staticClass:"weight-number"},[a("div",{staticClass:"weightChange"},[a("div",{staticClass:"left-change"},[a("img",{attrs:{src:i(229),alt:""}}),t._v(" "),a("span",[t._v(t._s(e.unit))])]),t._v(" "),a("div",{staticClass:"right-input"},[a("van-field",{staticClass:"inputF",attrs:{placeholder:"请输入相关数值",border:!1},model:{value:e.number,callback:function(i){t.$set(e,"number",i)},expression:"item.number"}})],1)])])])])}))],2),t._v(" "),a("ul",[a("li",[a("div",[t._v("资金到账")]),t._v(" "),a("div",{staticClass:"capital-account"},[a("div",{on:{click:function(e){t.dataset.paytype=0==t.dataset.paytype}}},[0==t.dataset.paytype?a("img",{attrs:{src:i(229),alt:""}}):a("img",{attrs:{src:i(236),alt:""}}),t._v(" "),a("span",[t._v("平台交易")])]),t._v(" "),a("div",{on:{click:function(e){t.dataset.paytype=0==t.dataset.paytype}}},[1==t.dataset.paytype?a("img",{attrs:{src:i(229),alt:""}}):a("img",{attrs:{src:i(236),alt:""}}),t._v(" "),a("span",[t._v("现场交易")])])])]),t._v(" "),a("li",[a("div",[t._v("收取方式")]),t._v(" "),a("div",{staticClass:"capital-account"},[a("div",{on:{click:function(e){t.dataset.delivery_method=0==t.dataset.delivery_method}}},[0==t.dataset.delivery_method?a("img",{attrs:{src:i(229),alt:""}}):a("img",{attrs:{src:i(236),alt:""}}),t._v(" "),a("span",[t._v("上门收取")])]),t._v(" "),a("div",{on:{click:function(e){t.dataset.delivery_method=0==t.dataset.delivery_method}}},[1==t.dataset.delivery_method?a("img",{attrs:{src:i(229),alt:""}}):a("img",{attrs:{src:i(236),alt:""}}),t._v(" "),a("span",[t._v("门店自送")])])])])]),t._v(" "),a("buttom-submit-confirm-collect",{attrs:{price:t.dataset.price,detail:t.detail,isbaozhi:t.dataset.isbaozhi,dataset:t.dataset,changeButtom:"change",ordernumber:t.dataset.orderNum}})],1)};a._withStripped=!0;i(213);var n=i(214),r=i(401);var s,o,l,c={name:"collect-change",components:(s={ButtomSubmitConfirmCollect:r.a},o=n.a.name,l=n.a,o in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s),data:function(){return{ordernumber:"",status:"",detail:[],dataset:{}}},created:function(){},mounted:function(){this.ordernumber=this.$route.query.ordernumber,this.getCollectDetails()},methods:{getCollectDetails:function(){var t=this,e=this,i={ordernumber:this.ordernumber,token:this.$store.state.options.user.token};this.$util.postRequestInterface("/api/home/order/getone",i,(function(i){switch(i.data.status){case 1:t.status="待收取";break;case 3:case 4:e.status="待确认";break;case 5:e.status="已完成";break;case 6:e.status="已取消"}var a=i.data,n=a.detail,r=!0,s=!1,o=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;e.detail.push({id:u.id,garbageid:u.garbageid,title:u.garbagename,weighting_num:u.weighting_num,weighting_method:u.weighting_method,number:u.weighting_num,unit:u.danweiming,time:e.$moment(1e3*a.create_time).format("YYYY-MM-DD HH:mm:ss"),price:parseFloat(a.price).toFixed(2),isbaozhi:a.isbaozhi,danweiming:u.danweiming})}}catch(t){s=!0,o=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw o}}e.dataset={orderNum:a.ordernumber,username:a.username,createTime:e.$moment(1e3*a.create_time).format("YYYY-MM-DD HH:mm:ss"),paytype:a.paytype,delivery_method:a.delivery_method,price:a.price,isbaozhi:a.isbaozhi}}))}}},u=(i(435),i(16)),d=Object(u.a)(c,a,[],!1,null,null,null);d.options.__file="src/views/salesman/collect-change.vue";e.default=d.exports}}]);