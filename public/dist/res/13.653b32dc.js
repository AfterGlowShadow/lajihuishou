(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{205:function(t,e,n){},206:function(t,e,n){},210:function(t,e,n){"use strict";n(167),n(169),n(168),n(212)},211:function(t,e,n){"use strict";var s,i=n(3),o=n(2),a=n.n(o),r=n(9),l=n(14),c=n(195),u=n(21),m=n(199),d=Object(r.a)("dialog"),p=d[0],b=d[1],h=d[2],f=p({mixins:[u.a],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t)},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")}},render:function(){var t,e,n=this,s=arguments[0];if(this.shouldRender){var i=this.message,o=this.messageAlign,a=this.slots(),r=this.slots("title")||this.title,u=r&&s("div",{class:b("header",{isolated:!i&&!a})},[r]),d=(a||i)&&s("div",{class:b("content")},[a||s("div",{domProps:{innerHTML:i},class:b("message",(t={"has-title":r},t[o]=o,t))})]),p=this.showCancelButton&&this.showConfirmButton,f=s("div",{class:[c.e,b("footer",{buttons:p})]},[this.showCancelButton&&s(m.a,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||h("cancel")},class:b("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){n.handleAction("cancel")}}}),this.showConfirmButton&&s(m.a,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||h("confirm")},class:[b("confirm"),(e={},e[c.c]=p,e)],style:{color:this.confirmButtonColor},on:{click:function(){n.handleAction("confirm")}}})]);return s("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[s("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||i},class:[b(),this.className],style:{width:Object(l.a)(this.width)}},[u,d,f])])}}}),v=n(1);function _(t){return v.d?Promise.resolve():new Promise((function(e,n){var o;s&&(o=s.$el,document.body.contains(o))||(s&&s.$destroy(),(s=new(a.a.extend(f))({el:document.createElement("div"),propsData:{lazyRender:!1}})).$on("input",(function(t){s.value=t}))),Object(i.a)(s,_.currentOptions,t,{resolve:e,reject:n})}))}_.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){s["confirm"===t?"resolve":"reject"](t)}},_.alert=_,_.confirm=function(t){return _(Object(i.a)({showCancelButton:!0},t))},_.close=function(){s&&(s.value=!1)},_.setDefaultOptions=function(t){Object(i.a)(_.currentOptions,t)},_.resetDefaultOptions=function(){_.currentOptions=Object(i.a)({},_.defaultOptions)},_.resetDefaultOptions(),_.install=function(){a.a.use(f)},_.Component=f,a.a.prototype.$dialog=_;e.a=_},212:function(t,e,n){},218:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-list-item"},[1==t.dataset.length?t._l(t.dataset,(function(e,s){return n("order-item-base",{key:s,staticClass:"el-mt-15",attrs:{status:e.status,title:e.title,time:"shop"==t.type?e.time:"",weight:e.weight?e.weight:"",number:e.number?e.number:"",unit:e.unit?e.unit:"",price:e.price,isbaozhi:e.isbaozhi}})})):[t._l(t.dataset,(function(e,s){return[0==s&&e.weight?n("order-item-base",{key:s,class:{"el-mt-10":!0,"oli-item":t.stylePlan},attrs:{title:e.title,time:"shop"==t.type?e.time:"",price:e.price,status:e.status,weight:e.weight?e.weight:"",number:e.number?e.number:"",isbaozhi:e.isbaozhi,unit:e.unit?e.unit:""}}):n("order-item-base",{key:s,class:{"el-mt-15":!0,"oli-item":t.stylePlan},attrs:{title:e.title,price:e.price,status:e.status,weight:e.weight?e.weight:"",number:e.number?e.number:"",isbaozhi:e.isbaozhi,unit:e.unit?e.unit:""}})]}))]],2)};s._withStripped=!0;var i={components:{OrderItemBase:n(221).a},props:["ibase","dataset","type"],computed:{stylePlan:function(){return!!this.ibase.style}}},o=(n(224),n(16)),a=Object(o.a)(i,s,[],!1,null,"0f864609",null);a.options.__file="src/components/currency/order-item/normal-list-base.vue";e.a=a.exports},221:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dl",{staticClass:"order-item-base"},[n("dt",[n("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),t.time?n("p",{staticClass:"time"},[t._v(t._s(t.timeFomate))]):t._e()]),t._v(" "),n("dd",[t.unit?n("p",[t._v(t._s(t.unit)+"："+t._s(t.number))]):t.weight?n("p",[t._v("重量："+t._s(t.weight)+"kg")]):t.number?n("p",[t._v("数量："+t._s(t.number)+"个")]):t._e(),t._v(" "),t.price?n("p",{staticClass:"price"},[1==t.status?n("span",[t._v("预估报价")]):4==t.status?n("span",[t._v("回收报价")]):t._e(),t._v(" "),2!=t.status?n("span",[t._v("￥"+t._s(t.price))]):t._e(),t._v(" "),1==t.isbaozhi&&2!=t.status?[n("br"),n("span",{staticClass:"price-protect"},[t._v("(价格保护已开启)")])]:t._e()],2):t._e()])])};s._withStripped=!0;var i={props:["title","unit","time","weight","number","price","status","isbaozhi"],computed:{timeFomate:function(){return this.$moment(this.time).format("YYYY-MM-DD")}}},o=(n(223),n(16)),a=Object(o.a)(i,s,[],!1,null,"3c466ea0",null);a.options.__file="src/components/currency/order-item/base.vue";e.a=a.exports},223:function(t,e,n){"use strict";var s=n(205);n.n(s).a},224:function(t,e,n){"use strict";var s=n(206);n.n(s).a},329:function(t,e,n){},418:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-list-container"},[n("div",{staticClass:"olc-head"},[n("span",[t._v("订单编号："+t._s(t.ibase.number))]),t._v(" "),n("span",[t._v(t._s(t.buildStateText))])]),t._v(" "),n("order-list-item",{attrs:{ibase:t.ibase,dataset:t.dataset,type:"shop"}}),t._v(" "),t.ibase.amount?n("div",{staticClass:"olc-price"},[n("p",[t._v("预估价格："),n("span",[t._v("￥")]),n("span",[t._v(t._s(parseFloat(t.ibase.amount).toFixed(2)))])]),t._v(" "),1==t.ibase.protect?n("p",{staticClass:"tip-footer"},[t._v("(价格保护已开启)")]):t._e()]):t._e(),t._v(" "),n("div",{class:{"olc-footer":!t.stylePlan,"olc-footer-qun":t.stylePlan}},["waitOut"==t.textType?[n("van-button",{staticClass:"normal-diy-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:function(e){return t.$router.push("/reservoirManagement/order-details?ordernumber="+t.ibase.number)}},slot:"button"},[t._v("查看详情")]),t._v(" "),n("van-button",{staticClass:"order-assist-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:t.eventClickOrderOut},slot:"button"},[t._v("出库")])]:"wait"!=t.textType&&"warehousing"!=t.textType?n("van-button",{staticClass:"normal-diy-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:t.eventClickOrderDetail},slot:"button"},[t._v("\n\t\t\t\t查看详情\n\t\t\t")]):t._e(),t._v(" "),"confirm"==t.textType?n("van-button",{staticClass:"order-assist-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:t.eventClickOrderConfirm},slot:"button"},[t._v("确认\n\t\t\t")]):t._e(),t._v(" "),"wait"==t.textType?n("van-button",{staticClass:"normal-diy-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:function(e){return t.$router.push("/shop/order-details?ordernumber="+t.ibase.number)}},slot:"button"},[t._v("入库")]):t._e(),t._v(" "),"warehousing"==t.textType?n("van-button",{staticClass:"normal-diy-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:function(e){return t.$router.push("/shop/order-details?ordernumber="+t.ibase.number)}},slot:"button"},[t._v("查看详情\n\t\t\t")]):t._e(),t._v(" "),"collectGR"==t.textType?n("van-button",{staticClass:"normal-diy-button",attrs:{slot:"button",size:"small",type:"primary",round:""},on:{click:function(e){return t.$router.push("/shop/order-details?ordernumber="+t.ibase.number)}},slot:"button"},[t._v("收取\n\t\t\t")]):t._e()],2)],1)};s._withStripped=!0;n(210);var i,o=n(211),a=(n(204),n(199)),r=n(218);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={components:(i={},l(i,a.a.name,a.a),l(i,"OrderListItem",r.a),i),props:["textType","ibase","dataset"],computed:{buildStateText:function(){var t="";switch(this.textType){case"collect":t="待收取";break;case"confirm":case"accounting-confirm":t="待确认";break;case"complete":t="已完成";break;case"cancel":t="已取消";break;case"wait":t="待入库";break;case"warehousing":t="已入库";break;case"accounting-un-confirm":t="已确认"}return t},buildHostButtonText:function(){var t="";switch(this.textType){case"collect":t="查看详情";break;case"confirm":t="确认收取";break;case"complete":case"cancel":t="查看详情";break;case"accounting-confirm":t="确认";break;case"accounting-un-confirm":t="查看详情"}return t},stylePlan:function(){return!!this.ibase.style}},mounted:function(){},methods:{eventClickOrderDetail:function(){this.$router.push({path:"/shop/order-details",query:{ordernumber:this.ibase.number}})},eventClickOrderConfirm:function(){var t=this,e={ordernumber:this.ibase.number,token:this.$store.state.options.user.token};this.$util.postRequestInterface("/api/home/order/confirm",e,(function(e){200==e.code&&o.a.alert({title:"提示",message:e.msg}).then((function(){t.$router.go(-1)}))}))},eventClickOrderOut:function(){console.log(this.ibase),this.$router.push({path:"/reservoirManagement/stock-out",query:{order:this.ibase.number,garbageid:this.ibase.oda.detail[0].garbageid}})}}},u=(n(471),n(16)),m=Object(u.a)(c,s,[],!1,null,"618d7fae",null);m.options.__file="src/components/currency/order-item/normal-list-shop.vue";e.a=m.exports},471:function(t,e,n){"use strict";var s=n(329);n.n(s).a}}]);